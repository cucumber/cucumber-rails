# encoding: utf-8
<%= embed_file('support/web_steps_warning.txt') %>

require File.expand_path(File.join(File.dirname(__FILE__), "..", "support", "paths"))
require File.expand_path(File.join(File.dirname(__FILE__), "..", "support", "selectors"))

# Single-line step scoper
Wenn /^(.*) innerhalb ([^:]+)$/ do |step, parent|
  with_scope(parent) { Wenn step }
end

# Multi-line step scoper
Wenn /^(.*) innerhalb ([^:]+):$/ do |step, parent, table_or_string|
  with_scope(parent) { Wenn "#{step}:", table_or_string }
end

Angenommen /^(?:|ich )bin auf (.+)$/ do |page_name|
  Given %{I am on #{page_name}}
end

Wenn /^(?:|ich )auf (.+) gehe$/ do |page_name|
  When %{I go to #{page_name}}
end

Wenn /^(?:|ich )auf "([^"]*)" drücke$/ do |button|
  When %{I press "#{button}"}
end

Wenn /^(?:|ich )auf "([^"]*)" klicke$/ do |link|
  When %{I follow "#{link}"}
end

Wenn /^(?:|ich )"([^"]*)" mit "([^"]*)" ausfülle$/ do |field, value|
  When %{I fill in "#{field}" with "#{value}"}
end

Wenn /^(?:|ich )"([^"]*)" in "([^"]*)" eingebe$/ do |value, field|
  When %{I fill in "#{value}" for "#{field}"}
end

Wenn /^(?:|ich )folgendes eingebe:$/ do |fields|
  When %{I fill in the following:}, fields
end

Wenn /^(?:|ich )"([^"]*)" in "([^"]*)" auswähle$/ do |value, field|
  When %{I select "#{value}" from "#{field}"}
end

Wenn /^(?:|ich )"([^"]*)" als Datum und Uhrzeit auswähle$/ do |time|
  When %{I select "#{time}" as the date and time}
end

Wenn /^(?:|ich )"([^"]*)" als "([^"]*)" Datum und Uhrzeit auswähle$/ do |datetime, datetime_label|
  When %{I select "#{datetime}" as the "#{datetime_label}" date and time}
end

Wenn /^(?:|ich )"([^"]*)" als Uhrzeit auswähle$/ do |time|
  When %{I select "#{time}" as the time}
end

Wenn /^(?:|ich )"([^"]*)" als "([^"]*)" Uhrzeit auswähle$/ do |time, time_label|
  When %{I select "#{time}" as the "#{time_label}" time}
end

Wenn /^(?:|ich )"([^"]*)" als Datum auswähle$/ do |date|
  When %{I select "#{date}" as the date}
end

Wenn /^(?:|ich )"([^"]*)" als "([^"]*)" Datum auswähle$/ do |date, date_label|
  When %{I select "#{date}" as the "#{date_label}" date}
end

Wenn /^(?:|ich )"([^"]*)" anhake$/ do |field|
  When %{I check "#{field}"}
end

Wenn /^(?:|ich )"([^"]*)" abhake$/ do |field|
  When %{I uncheck "#{field}"}
end

Wenn /^(?:|ich )"([^"]*)" auswähle$/ do |field|
  When %{I choose "#{field}"}
end

Wenn /^(?:|ich )die Datei "([^"]*)" als "([^"]*)" anhänge$/ do |path, field|
  When %{I attach the file "#{path}" to "#{field}"}
end

Dann /^(?:|ich sollte |sollte (?:|ich )?)"([^"]*)" sehen$/ do |text|
  Then %{I should see "#{text}"}
end

Dann /^(?:|ich sollte |sollte (?:|ich )?)\/([^\/]*)\/ sehen$/ do |regexp|
  Then %{I should see /#{regexp}/}
end

Dann /^(?:|ich sollte |sollte (?:|ich )?)nicht "([^"]*)" sehen$/ do |text|
  Then %{I should not see "#{text}"}
end

Dann /^(?:|ich sollte |sollte (?:|ich )?)nicht \/([^\/]*)\/ sehen$/ do |regexp|
  Then %{I should not see /#{regexp}/}
end

Dann /^(?:|sollte )das "([^"]*)" Feld (?:|sollte )"([^"]*)" enthalten$/ do |field, value|
  Then %{the "#{field}" field should contain "#{value}"}
end

Dann /^(?:|sollte )das "([^"]*)" Feld (?:|sollte )nicht "([^"]*)" enthalten$/ do |field, value|
  Then %{the "#{field}" field should not contain "#{value}"}
end

Dann /^(?:|sollte )die "([^"]*)" Checkbox (?:|sollte )angehakt sein$/ do |label|
  Then %{the "#{label}" checkbox should be checked}
end

Dann /^(?:|sollte )die "([^"]*)" Checkbox (?:|sollte )nicht angehakt sein$/ do |label|
  Then %{the "#{label}" checkbox should not be checked}
end

Dann /^(?:|ich sollte |sollte (?:|ich )?)auf (.+) sein$/ do |page_name|
  Then %{I should be on #{page_name}}
end

Dann /^zeig mir die Seite$/ do
  Then %{show me the page}
end
