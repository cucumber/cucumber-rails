require:
  - rubocop-packaging
  - rubocop-performance
  - rubocop-rspec

AllCops:
  TargetRubyVersion: 2.6
  NewCops: enable
  Exclude:
    # These are auto-generated from a load of features that use aruba
    - 'tmp/**/*'
    # Generated by appraisal
    - 'gemfiles/*.gemfile'
    - 'vendor/**/*'

# Disabled on our repo's to enable polyglot-release
Gemspec/RequireMFA:
  Enabled: false

Layout/LineLength:
  Max: 200
  AllowedPatterns:
    - '^Given'
    - '^When'
    - '^Then'

# This needs fixing as it's inheriting a lot more than what we originally need.
# The inheritance chain goes all the way down to a single test case which the world
# definitely doesn't represent. GH issue 505
Lint/MissingSuper:
  Exclude:
    - lib/cucumber/rails/world.rb

# These can both be removed once we upgrade rubocop and rubocop-rspec to more up to date versions
Metrics/BlockLength:
  Exclude:
    - './spec/**/*_spec.rb'
    - 'cucumber-rails.gemspec'

# This allows us to read the chmod action in a more reproducible way
Style/NumericLiteralPrefix:
  EnforcedOctalStyle: zero_only

Style/Documentation:
  Enabled: false

Style/RegexpLiteral:
  EnforcedStyle: slashes
  AllowInnerSlashes: true

RSpec/MessageSpies:
  EnforcedStyle: receive
